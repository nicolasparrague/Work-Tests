<template>
    <slot>
      <lightning-input type="email"
               class={_styleClasses.input}
               label={_propSetMap.label}
               aria-label={_propSetMap.label}
               data-id={jsonDef.name}
               onblur={handleBlur}
               value={elementValue}
               title={elementValue}
               pattern={_emailPattern}
               theme={_theme}
               required={_propSetMap.required}
               tab-index={tabIndex}
               field-level-help={_handleHelpText}
               placeholder={_propSetMap.placeholder}
               message-when-value-missing={_messageWhenValueMissing}
               message-when-pattern-mismatch={_messageWhenPatternMismatch}
               message-when-too-short={_messageWhenTooShort}
               message-when-too-long={_messageWhenTooLong}
               message-when-bad-input={_messageWhenBadInput}
               message-when-range-overflow={_messageWhenRangeOverflow}
               message-when-range-underflow={_messageWhenRangeUnderflow}
               message-when-step-mismatch={_messageWhenStepMismatch}
               message-when-type-mismatch={_messageWhenTypeMismatch}
               icon-name="utility:info"
               data-omni-input>
        <template if:true={_propSetMap.repeat}>
          <span slot="label"
                style="bottom:7px; right:-11px;"
                class={_styleClasses.repeatContainer}
                role="group">
            <button if:true={canRepeat}
                    class={_styleClasses.repeatAdd}
                    onclick={handleAdd}>
              <lightning-icon icon-name="utility:add"
                      alternative-text="Repeat Email"
                      extraclass={_styleClasses.repeatIcons}
                      size="xx-small">
              </lightning-icon>
            </button>
            <button if:true={canRemove}
                    class={_styleClasses.repeatRemove}
                    onclick={handleRemove}>
              <lightning-icon icon-name="utility:close"
                      alternative-text="Remove Email"
                      extraclass={_styleClasses.repeatIcons}
                      size="xx-small">
              </lightning-icon>
            </button>
          </span>
        </template>
      </lightning-input>
    </slot>
  </template>