<template>
   <template if:true={loading}>
      <lightning-spinner alternative-text="Loading" size="medium" theme="nds"> </lightning-spinner>
   </template>

   <div if:true={isPublicHome} style="margin-top: -9%; margin-bottom: 9%">
      <button onclick={backToFindCareHome} style="border: none; background: none">
         <lightning-icon icon-name="utility:chevronleft" alternative-text="previous" size="small"></lightning-icon>
         <span class="nds-assistive-text">Previous</span>
      </button>
   </div>
   <!--************************ Desktop Filter/Sort Start **********************************-->
   <!-- Inputs / Filters -->
   <template if:false={noElementsAfterFilter}>
      <div class="slds-card">
         <lightning-accordion active-section-name={RefineSearchResults} allow-multiple-sections-open class="nds-show_medium">
         <lightning-accordion-section name="RefineSearchResults" label="Refine Search Results">
            <!-- Dropdowns -->
            <div class="nds-grid nds-wrap">
               <div class="nds-grid nds-col nds-size_8-of-12 nds-wrap">
                  <div class="nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_6-of-12 nds-p-bottom_x-large">
                     <div class="nds-form-element__control nds-form-element__control-animated-label">
                        <lightning-input max-length="100" class="filter_providerName_Desktop" label="Provider Name"> </lightning-input>
                     </div>
                  </div>
                  <div class="nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_6-of-12 nds-p-bottom_x-large nds-m-top_large">
                     <c-provider-language-multi-select
                        id="lang_combo"
                        class="filter_language_Desktop"
                        options={languages}
                        set-value={setLanguageFilter}
                        onlanguageselectionchange={handleLanguageSelectionChange}
                     ></c-provider-language-multi-select>
                  </div>
                  <div class="nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_6-of-12 nds-p-bottom_x-large" aria-expanded="true" aria-haspopup="listbox" role="combobox">
                     <div class="nds-form-element nds-form-container">
                        <div class="nds-form-element__control nds-form-element__control-animated-label">
                           <div class="nds-select_container">
                              <select class="nds-select nds-has-value filter_gender_Desktop" id="select-03" aria-autocomplete="list" autocomplete="off" role="listbox" aria-label="Gender">
                                 <option>Male</option>
                                 <option>Female</option>
                                 <option selected>Either</option>
                              </select>
                              <label class="nds-form-element__label" for="select-01">Gender</label>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_6-of-12 nds-p-bottom_x-large">
                     <c-member-search-hospital-affiliation 
                        class="filter_hospaffil_Desktop" 
                        id="hosp_affil_combo" 
                        options={hospitalAff} 
                        onitemselected={handleHospitalAffSelect}>
                     </c-member-search-hospital-affiliation>
                  </div>
                  <template if:true={showmedicalgroup}>
                     <div class="nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_6-of-12 nds-p-bottom_x-large">
                        <div class="nds-m-bottom_small">
                           <c-member-search-medical-group
                              id="medical_group_combo"
                              field-to-save="MedicalGroup"
                              options={medicalgroups}
                              class="filter_medicalgroup_Desktop nds-text-body_regular"
                              ongroupselected={handleMedicalGroupSelect}>
                           </c-member-search-medical-group>
                        </div>
                     </div>
                  </template>
               </div>

               <!-- Checkboxes nds-gutters-->
               <div class="nds-grid nds-col nds-size_4-of-12 nds-wrap tags nds-p-left_xx-large">
                  <div class="nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-p-bottom_small">
                     <div class="nds-form-element">
                        <div class="nds-form-element__control">
                           <label class="nds-checkbox checkbox-nds-wheel">
                              <input type="checkbox" class="filter_WA_Desktop" name="options" id="WA-ID" value="WA" />
                              <span class="nds-checkbox_faux"></span>
                              <label class="nds-checkbox__label">
                                 <span class="nds-form-element__label">Wheelchair Accessible</span>
                              </label>
                           </label>
                        </div>
                     </div>
                  </div>
                  <div class="nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-p-bottom_small">
                     <div class="nds-form-element">
                        <div class="nds-form-element__control">
                           <label class="nds-checkbox">
                              <input type="checkbox" class="filter_ANP_Desktop" name="options" id="ANP-ID" value="ANP" />
                              <span class="nds-checkbox_faux"></span>
                              <label class="nds-checkbox__label">
                                 <span class="nds-form-element__label">Accepting New Patients</span>
                              </label>
                           </label>
                        </div>
                     </div>
                  </div>
                  <div if:true={dynamicCOE} class="nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-p-bottom_small">
                     <div class="nds-form-element">
                        <div class="nds-form-element__control">
                           <label class="nds-checkbox">
                              <input type="checkbox" class="filter_COE_Desktop" name="options" id="COE-ID" value="COE" />
                              <span class="nds-checkbox_faux"></span>
                              <label class="nds-checkbox__label">
                                 <span class="nds-form-element__label">Center of Excellence</span>
                              </label>
                           </label>
                        </div>
                     </div>
                  </div>
                  <div if:true={dynamicPreferred} class="nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-p-bottom_small">
                     <div class="nds-form-element">
                        <div class="nds-form-element__control">
                           <label class="nds-checkbox">
                              <input type="checkbox" class="filter_Preferred_Desktop" name="options" id="Preferred-ID" value="Preferred" />
                              <span class="nds-checkbox_faux"></span>
                              <label class="nds-checkbox__label">
                                 <span class="nds-form-element__label">Preferred</span>
                              </label>
                           </label>
                        </div>
                     </div>
                  </div>
                  <div class="nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-p-bottom_small">
                     <div class="nds-form-element">
                        <div class="nds-form-element__control">
                           <label class="nds-checkbox">
                              <input type="checkbox" class="filter_HomelessShelter_Desktop" name="options" id="HomelessShelter-ID" value="HomelessShelter" />
                              <span class="nds-checkbox_faux"></span>
                              <label class="nds-checkbox__label">
                                 <span class="nds-form-element__label">Homeless Shelter</span>
                              </label>
                           </label>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- Clear and Apply Filters - DESKTOP -->
               <div class="nds-grid nds-col nds-size_1-of-1 nds-small-size_12-of-12 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-show_medium">
                  <div class="nds-size_3-of-12 nds-p-right_large">
                     <button class="nds-button nds-button_neutral nds-button_stretch" onclick={clearFiltersDesktop}>Clear Filters</button>
                  </div>
                  <div class="nds-size_3-of-12 nds-p-right_large">
                     <button class="nds-button nds-button_brand nds-button_stretch" onclick={filterDesktop}>Apply Filters</button>
                  </div>
               </div>
               <!-- Clear and Apply Filters - Mobile-->
               <div class="nds-grid nds-col nds-wrap nds-hide_medium">
                  <div class="nds-size_3-of-12">
                     <div class="nds-box_x-small nds-text-align_center nds-m-around_x-small">
                        <button class="nds-button nds-button_neutral nds-button_stretch" onclick={clearFiltersDesktop}>Clear Filters</button>
                     </div>
                  </div>
                  <div class="nds-size_3-of-12">
                     <div class="nds-box_x-small nds-text-align_center nds-m-around_x-small">
                        <button class="nds-button nds-button_brand nds-button_stretch" onclick={filterDesktop}>Apply Filters</button>
                     </div>
                  </div>
               </div>
            </div>
         </lightning-accordion-section>
         </lightning-accordion>
      </div>
   </template>

   <template if:true={elementsLoaded}>
      <div class="nds-grid nds-wrap nds-m-top_large nds-m-bottom_x-small nds-m-vertical_large">
         <div class="nds-order_1 nds-large-order_2 nds-col nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_2-of-12">
            <div class="nds-grid">
               <!-- Reset Button -->
               <div if:false={isPublic} class="nds-size_12-of-12 nds-medium-size_12-of-12 nds-show_medium">
                  <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToChooseServiceType}>Start Over</button>
               </div>
               <div if:true={isPublic} class="nds-size_12-of-12 nds-medium-size_12-of-12 nds-show_medium">
                  <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToFindCarePublic}>Start Over</button>
               </div>
               <!-- Toggle buttons - only for mobile -->
               <div class="nds-size_6-of-12 nds-medium-size_12-of-12 nds-large-size_12-of-12 nds-hide_medium"></div>
            </div>
         </div>

         <!-- Compare & Reset button, list icon, map icon -->
         <div class="nds-order_2 nds-large-order_1 nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_10-of-12 nds-show_medium nds-m-vertical_large">
            <div class="nds-grid nds-wrap">
               <!-- View Menu - only for desktop -->
               <div class="nds-size_6-of-12 nds-medium-size_6-of-12 nds-large-size_4-of-12 nds-show_medium results-select-container">
                  <div class="nds-form-element nds-form-container">
                     <div class="nds-form-element__control nds-form-element__control-animated-label">
                        <div class="nds-select_container">
                           <select class="pageview nds-select nds-has-value" id="select-05" name="view" required="" onchange={handleViewSelect}>
                              <option value="5">5</option>
                              <option value="10" selected>10</option>
                              <option value="25">25</option>
                              <option value="50">50</option>
                           </select>
                           <label class="nds-form-element__label" for="select-05">Results Per Page</label>
                        </div>
                     </div>
                  </div>
               </div>

               <!--New Desktop Sort By-->
               <div class="nds-size_6-of-12 nds-medium-size_6-of-12 nds-large-size_4-of-12 nds-show_medium nds-m-bottom_x-small nds-is-relative">
                  <label class="c-input-label_not-empty" for="combobox-unique-id" role="textbox" aria-label="Sort By">
                     <div class="nds-m-left_xx-small">Sort By</div>
                  </label>
                  <div class="nds-combobox__form-element nds-input-has-icon nds-input-has-icon_right nds-m-left_xx-small nds-p-bottom_none nds-m-bottom_none" role="none">
                     <!-- Default Search Box -->
                     <div class="SortyByClass nds-text-body_regular">
                        <input
                           type="text"
                           class="nds-input nds-combobox__input sort_input"
                           id="sort_combo-id-5"
                           aria-activedescendant="option1"
                           aria-autocomplete="list"
                           aria-label="Sort By"
                           list="listbox-id-5"
                           aria-controls="listbox-id-5"
                           autocomplete="off"
                           role="textbox"
                           placeholder="Distance - Closest"
                           onclick={sortFocusIn}
                           readonly
                           value={sortBy}
                           onfocusout={sortWindlowClose}
                        />
                        <span class="nds-icon_container" onclick={sortFocusIn}>
                           <lightning-icon
                              theme="nds"
                              id="sort_combo_icon"
                              icon-name="utility:chevrondown"
                              class="nds-icon-utility-down nds-input__icon nds-input__icon_right nds-m-right_xx-small"
                              size="x-small"
                           >
                           </lightning-icon>
                        </span>
                     </div>
                  </div>
                  <div id="listbox-id-5" class="sort_list nds-hide" role="listbox">
                     <!-- Sort Options -->
                     <ul class="nds-listbox nds-listbox_vertical nds-dropdown nds-dropdown_large" role="presentation">
                        <template if:true={sortOptions}>
                           <template for:each={sortOptions} for:item="item">
                              <li role="presentation" class="nds-dropdown__item" key={item.key} onmousedown={sortSelect}>
                                 <div
                                    aria-selected="true"
                                    id={item.key}
                                    data-badge-id={item.key}
                                    data-badge-value={item.value}
                                    class="badge nds-media nds-listbox__option nds-listbox__option_entity nds-listbox__option_has-meta"
                                    role="option"
                                    tabindex="0"
                                 >
                                    <span id={item.ascBadgeId} class="nds-media__body nds-m-vertical_x-small">
                                       <span
                                          data-badge-id={item.key}
                                          data-badge-value={item.value}
                                          onmousedown={sortSelect}
                                          class="nds-listbox__option-text nds-listbox__option-text_entity nds_optiontxt"
                                          id={item.key}
                                          >{item.value}</span
                                       >
                                    </span>
                                    <!-- MVP-1079 : ASC/DSC Badge removed -->
                                 </div>
                                 <hr class="nds-align_absolute-center nds-m-bottom_xx-small" />
                              </li>
                           </template>
                        </template>
                        <template if:false={sortOptions}>
                           <div>Error</div>
                        </template>
                     </ul>
                  </div>
               </div>
               <!--New Sort By-->
            </div>
         </div>

         <div class="nds-order_3 nds-large-order_3 nds-small-order_2 nds-grid nds-wrap nds-col nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12 badge-align">
            <!-- Distance From Tag -->
            <div if:false={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_5-of-12 nds-large-size_2-of-12 nds-small-size_6-of-12">
               <button class="nds-badge nds-button_stretch nds-button_neutral nds-m-vertical_x-small filter-badge" onclick={goToLocation}>{formattedDistanceFrom} of {userZipCode}</button>
            </div>
            <div if:true={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_5-of-12 nds-large-size_2-of-12 nds-small-size_6-of-12">
               <div class="buttonBadge nds-badge nds-button_stretch nds-m-vertical_x-small filter-badge">{formattedDistanceFrom} of {userZipCode}</div>
            </div>
            <!-- Speciallity Tag -->
            <div if:false={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_4-of-12 nds-large-size_3-of-12 nds-small-size_6-of-12">
               <button class="nds-badge nds-button_stretch nds-button_neutral nds-m-vertical_x-small filter-badge" onclick={goToChooseSpecialities}>{speciallity}</button>
            </div>
            <div if:true={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_4-of-12 nds-large-size_3-of-12 nds-small-size_6-of-12">
               <div class="buttonBadge nds-badge nds-button_stretch nds-m-vertical_x-small filter-badge">{speciallity}</div>
            </div>

            <!-- full Name Tag-->
            <template if:true={displayfullName}>
               <div if:false={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_3-of-12 nds-large-size_2-of-12 nds-small-size_6-of-12">
                  <button class="nds-badge nds-button_stretch nds-button_neutral nds-m-vertical_x-small filter-badge" onclick={goToChooseSpecialities}>{fullName}</button>
               </div>
               <div if:true={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_3-of-12 nds-large-size_2-of-12 nds-small-size_6-of-12">
                  <div class="buttonBadge nds-badge nds-button_stretch nds-m-vertical_x-small filter-badge">{fullName}</div>
               </div>
            </template>

            <!-- Start Over Button -->
            <div if:false={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_4-of-12 nds-large-size_3-of-12 nds-small-size_6-of-12 nds-hide_large nds-p-top_x-small">
               <button class="nds-button nds-badge nds-button_neutral nds-m-bottom_small nds-button_stretch" style="background: none; border: 1px solid !important" onclick={goToChooseServiceType}>
                  Start Over
               </button>
            </div>
            <div if:true={isPublic} class="nds-col nds-p-right_small nds-size_9-of-12 nds-medium-size_4-of-12 nds-large-size_3-of-12 nds-small-size_6-of-12 nds-hide_large nds-p-top_x-small">
               <button class="nds-button nds-badge nds-button_neutral nds-m-bottom_small nds-button_stretch" style="background: none; border: 1px solid !important" onclick={goToFindCarePublic}>
                  Start Over
               </button>
            </div>

            <template if:true={elementsToDisplayMobile}>
               <div class={getMapToggleClass}>
                  <div class="can-toggle">
                     <div class="can-toggle toggle-brand">
                        <input aria-label="Show Map" aria-checked="false" id="mapToggle" type="checkbox" data-target-id="map-toggle" onclick={handleMapToggle} />
                        <label for="mapToggle">
                           <div class="can-toggle__switch" data-checked="Map" data-unchecked="List"></div>
                        </label>
                     </div>
                  </div>
               </div>
            </template>
         </div>
      </div>
   </template>

   <!--  ************************ Mobile Filter Start ********************************** -->

   <div class="nds-form-element nds-hide_medium">
      <hr />
      <div class="nds-grid nds-hide_medium">
         <slot>
            <div class="nds-col nds-size_6-of-12"></div>
            <div class="nds-col nds-size_6-of-12">
               <div class="c-input-label_not-empty nds-m-left_xx-small">Sort by</div>
            </div>
         </slot>
      </div>
      <div class="nds-form-element__control nds-hide_medium">
         <div class="nds-combobox_container nds-hide_medium">
            <div class="nds-combobox nds-dropdown-trigger nds-dropdown-trigger_click nds-is-open" aria-expanded="true" aria-haspopup="listbox" role="combobox">
               <lightning-layout theme="nds">
                  <lightning-layout-item flexibility="auto" size="6" alignment-bump="left">
                     <div class="nds-combobox__form-element nds-input-has-icon nds-input-has-icon_right nds-m-right_xx-small" role="none">
                        <!-- Default Search Box -->
                        <div onclick={mobileIsOpen} class="FilterByClass nds-text-body_regular">
                           <input
                              type="text"
                              class="nds-input nds-combobox__input filter_input"
                              id="combobox-id-3"
                              aria-activedescendant="option1"
                              aria-autocomplete="list"
                              list="listbox-id-3"
                              aria-controls="listbox-id-3"
                              autocomplete="off"
                              role="textbox"
                              placeholder={placeholderText}
                              readonly
                              value={filterBy}
                           />
                           <span class="nds-icon_container">
                              <lightning-icon theme="nds" icon-name="utility:down" class="nds-icon-utility-down nds-input__icon nds-input__icon_right nds-m-right_x-small" size="x-small">
                              </lightning-icon>
                           </span>
                        </div>
                     </div>
                  </lightning-layout-item>
                  <lightning-layout-item flexibility="auto" size="6" alignment-bump="right">
                     <div class="nds-combobox__form-element nds-input-has-icon nds-input-has-icon_right nds-m-left_xx-small" role="none">
                        <div class="SortyByClass nds-text-body_regular" onclick={mobileSortFocusIn}>
                           <input
                              type="text"
                              class="nds-input nds-combobox__input sort_input"
                              id="combobox-id-4"
                              aria-activedescendant="option1"
                              aria-autocomplete="list"
                              list="listbox-id-4"
                              aria-controls="listbox-id-4"
                              autocomplete="off"
                              role="textbox"
                              placeholder={placeholderText}
                              readonly
                              value={sortBy}
                              onfocusout={mobileSortWindlowClose}
                           />
                           <span class="nds-icon_container" onclick={mobileSortFocusIn}>
                              <lightning-icon theme="nds" icon-name="utility:down" class="nds-icon-utility-down nds-input__icon nds-input__icon_right nds-m-right_x-small" size="x-small">
                              </lightning-icon>
                           </span>
                        </div>
                     </div>
                  </lightning-layout-item>
               </lightning-layout>
               <!-- To display all items for the drop down -->
               <div id="listbox-id-3" class="item_list nds-hide" role="listbox">
                  <ul class="nds-listbox nds-listbox_vertical nds-dropdown nds-dropdown_fluid" role="presentation">
                     <li role="presentation" class="nds-listbox__item nds-p-around_small">
                        <lightning-button theme="nds" variant="base" label="" class="nds-float_right" icon-name="utility:close" onclick={mobileCloseFilterWindow}></lightning-button>
                        <!-- Dropdowns -->
                        <div class="nds-grid nds-wrap nds-m-bottom_small">
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12">
                              <div class="nlds-col nds-size_12-of-12">
                                 <div>
                                    <div class="nds-form-element__control nds-form-element__control-animated-label">
                                       <lightning-input class="filter_providername" theme="nds" max-length="100" label="Provider Name"> </lightning-input>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12">
                              <div class="nds-col nds-size_12-of-12">
                                 <c-provider-language-multi-select
                                    id="lang_combo_mo"
                                    class="filter_language"
                                    options={languages}
                                    set-value={setLanguageFilter}
                                    onlanguageselectionchange={handleLanguageSelectionChange}
                                 ></c-provider-language-multi-select>
                              </div>
                           </div>
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12">
                              <div class="nds-col nds-size_12-of-12">
                                 <div class="nds-form-element nds-form-container">
                                    <div class="nds-form-element__control nds-form-element__control-animated-label">
                                       <div class="nds-select_container">
                                          <select class="nds-select nds-has-value filter_gender" id="filter-gender" required="">
                                             <option value="Male">Male</option>
                                             <option value="Female">Female</option>
                                             <option value="Either" selected>Either</option>
                                          </select>
                                          <label class="nds-form-element__label" for="filter-gender">Gender</label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12">
                              <div class="nds-col nds-size_12-of-12">
                                 <c-member-search-hospital-affiliation class="filter_hospaffil" id="hosp_affil_combo_mo" options={hospitalAff} onitemselected={handleHospitalAffSelect}>
                                 </c-member-search-hospital-affiliation>
                              </div>
                           </div>
                           <template if:true={showmedicalgroup}>
                              <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12">
                                 <div class="nds-col nds-size_12-of-12">
                                    <div class="nds-m-bottom_small">
                                       <c-member-search-medical-group
                                          id="medical_group_combo_mo"
                                          field-to-save="MedicalGroup"
                                          options={medicalgroups}
                                          class="filter_medicalgroup nds-text-body_regular"
                                          ongroupselected={handleMedicalGroupSelect}
                                       >
                                       </c-member-search-medical-group>
                                    </div>
                                 </div>
                              </div>
                           </template>
                        </div>

                        <!-- Checkboxes nds-gutters-->
                        <div class="nds-grid nds-wrap tags">
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_x-small">
                              <div class="nds-form-element">
                                 <div class="nds-form-element__control">
                                    <label class="nds-checkbox checkbox-nds-wheel">
                                       <input type="checkbox" name="options" class="filter_WA" id="filter-WA" value="WheelchairMobile" />
                                       <span class="nds-checkbox_faux"></span>
                                       <label class="nds-checkbox__label">
                                          <span class="nds-form-element__label">Wheelchair Accessible</span>
                                       </label>
                                    </label>
                                 </div>
                              </div>
                           </div>
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_x-small">
                              <div class="nds-form-element">
                                 <div class="nds-form-element__control">
                                    <label class="nds-checkbox">
                                       <input type="checkbox" name="options" class="filter_ANP" id="filter-ANP" value="ANP" />
                                       <span class="nds-checkbox_faux"></span>
                                       <label class="nds-checkbox__label">
                                          <span class="nds-form-element__label">Accepting New Patients</span>
                                       </label>
                                    </label>
                                 </div>
                              </div>
                           </div>
                           <div if:true={dynamicCOE} class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_x-small">
                              <div class="nds-form-element">
                                 <div class="nds-form-element__control">
                                    <label class="nds-checkbox">
                                       <input type="checkbox" name="options" class="filter_COE" id="filter-COE" value="COE" />
                                       <span class="nds-checkbox_faux"></span>
                                       <label class="nds-checkbox__label">
                                          <span class="nds-form-element__label">Center of Excellence</span>
                                       </label>
                                    </label>
                                 </div>
                              </div>
                           </div>
                           <div if:true={dynamicPreferred} class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_x-small">
                              <div class="nds-form-element">
                                 <div class="nds-form-element__control">
                                    <label class="nds-checkbox">
                                       <input type="checkbox" name="options" class="filter_Preferred" id="filter-Preferred" value="Preferred" />
                                       <span class="nds-checkbox_faux"></span>
                                       <label class="nds-checkbox__label">
                                          <span class="nds-form-element__label">Preferred</span>
                                       </label>
                                    </label>
                                 </div>
                              </div>
                           </div>
                           <div class="nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_x-small">
                              <div class="nds-form-element">
                                 <div class="nds-form-element__control">
                                    <label class="nds-checkbox">
                                       <input type="checkbox" name="options" class="filter_homelessShelter" id="filter-homelessShelter" value="homelessShelter" />
                                       <span class="nds-checkbox_faux"></span>
                                       <label class="nds-checkbox__label">
                                          <span class="nds-form-element__label">Homeless Shelter</span>
                                       </label>
                                    </label>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- Clear filters and apply filters -->
                        <div class="nds-grid nds-gutters nds-p-top_large">
                           <div class="nds-col nds-p-top_xx-small">
                              <span>
                                 <a class="nds-text-body_regular nds-text-link nds-button_stretch" onclick={mobileClearFilters}>Clear Filters</a>
                              </span>
                           </div>
                           <div class="nds-col">
                              <span>
                                 <button class="nds-button nds-button_brand nds-button_stretch" onclick={filterMobile}>Apply Filters</button>
                              </span>
                           </div>
                        </div>
                     </li>
                  </ul>
               </div>
               <!--  ************************ Mobile Sort Start ********************************** -->
               <!-- To display all Sort Mobile Items for the drop down -->
               <div id="listbox-id-4" class="sort_list_mo nds-hide" role="listbox">
                  <!-- Sort Mobile Options -->
                  <ul class="nds-listbox nds-listbox_vertical nds-dropdown nds-dropdown_fluid" role="presentation">
                     <template if:true={sortMoOptions}>
                        <template for:each={sortMoOptions} for:item="item">
                           <li role="presentation" class="nds-listbox__item" key={item.key}>
                              <div
                                 aria-selected="true"
                                 id={item.key}
                                 data-badge-id={item.key}
                                 data-badge-value={item.value}
                                 onmousedown={sortSelect}
                                 class="nds-media nds-listbox__option nds-listbox__option_entity nds-listbox__option_has-meta"
                                 role="option"
                                 tabindex="0"
                              >
                                 <span id={item.ascBadgeId} class="nds-media__body">
                                    <span
                                       data-badge-id={item.key}
                                       data-badge-value={item.value}
                                       onmousedown={sortSelect}
                                       class="nds-listbox__option-text nds-listbox__option-text_entity nds_optiontxt nds-m-vertical_x-small"
                                       id={item.key}
                                       >{item.value}</span
                                    >
                                 </span>
                              </div>
                              <hr class="nds-align_absolute-center nds-m-vertical_xxx-small" />
                           </li>
                        </template>
                     </template>
                     <template if:false={sortMoOptions}>
                        <div>Error</div>
                     </template>
                  </ul>
               </div>
               <!--end of sort drop down-->
            </div>
         </div>
      </div>
   </div>
   <template if:true={elementsToDisplayMobile}>
      <div class="nds-grid nds-grid_align-end nds-m-vertical_medium nds-hide_medium">
         <div class="can-toggle">
            <div class="can-toggle toggle-brand">
               <input id="mapToggleMobile" type="checkbox" data-target-id="map-toggle" onclick={handleMapToggle} />
               <label for="mapToggleMobile">
                  <div class="can-toggle__switch" data-checked="Map" data-unchecked="List"></div>
               </label>
            </div>
         </div>
      </div>
   </template>

   <!-- No Result for Providers -->
   <template if:true={noElementsMsg}>
      <div>
         <p>&nbsp;</p>
         <p>We couldnâ€™t find any providers matching the criteria you selected. Choose an option below to make changes or <a href="#" onclick={goToChooseServiceType}>start over</a>.</p>
         <br />
      </div>
   </template>
   <template if:true={systemErrorMsg}>
      <div>
         <p>&nbsp;</p>
         <p>
            Unfortunately, An internal system error has occurred. Please try again. If the problem countinues, please contact the &nbsp;
            <a href="https://attentisconsulting.com/contact/" target="_blank">Help and Support</a> or <a href="#" onclick={goToChooseServiceType}>start over</a>.
         </p>
         <br />
      </div>
   </template>
   <template if:false={elementsLoaded}>
      <div class="nds-order_3 nds-large-order_2 nds-col nds-size_1-of-1 nds-medium-size_8-of-12 nds-large-size_8-of-12">
         <div class="nds-grid nds-show_medium">
            <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
               <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToLocation}>{formattedDistanceFrom} of {userZipCode}</button>
            </div>
            <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
               <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToChooseSpecialities}>{speciallity}</button>
            </div>
            <template if:true={displayfullName}>
               <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
                  <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToChooseSpecialities}>{fullName}</button>
               </div>
            </template>
         </div>
         <div class="nds-col nds-hide_medium">
            <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
               <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToLocation}>{formattedDistanceFrom} of {userZipCode}</button>
            </div>
            <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
               <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToChooseSpecialities}>{speciallity}</button>
            </div>
            <template if:true={displayfullName}>
               <div class="nds-size_12-of-12 nds-medium-size_6-of-12 nds-m-right_small">
                  <button class="nds-button nds-button_neutral nds-m-bottom_small nds-button_stretch" onclick={goToChooseSpecialities}>{fullName}</button>
               </div>
            </template>
         </div>
      </div>
   </template>

   <!-- Providers -->
   <template if:true={elementsLoaded}>
      <div class="nds-grid">
         <div class={getListWrapClass}>
            <c-pager
               class="pager"
               pagedata={providersTracked}
               jsondata={provJsonData}
               criteria={providerParams}
               elements-per-page={selectedViewNumber}
               total-elements={totalProviderNum}
               first-element={pagerFirstEle}
               show-save-search="true"
               title=""
               onpagerchanged={handleNewPage}
            >
               <template for:each={providersTracked} for:item="provider">
                  <div key={provider.ProviderId} class="nds-grid nds-wrap nds-box nds-m-bottom_large txtCenter" data-target-id={provider.ProviderId} tabindex="0">
                     <!-- Provider Details -->
                     <div class="nds-col nds-medium-order_1 nds-large-order_1 nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-p-horizontal_x-small c-brand-border_right">
                        <div class="nds-col nds-size_12-of-12 nds-text-title nds-p-bottom_x-small">
                           <h3>{provider.providerFullName}, {provider.Title}</h3>
                        </div>
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-p-bottom_x-small">
                           <p>{provider.Speciality}</p>
                        </div>
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-m-bottom_medium">
                           <p>Provider #{provider.ProviderId}</p>
                        </div>
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-media nds-show_medium">
                           <template if:true={provider.acceptNewProv}>
                              <c-custom-icon
                                 icon-name="Accepting_New_Patients"
                                 size="small"
                                 alternative-text="Accepting New Patients"
                                 class="nds-p-right_small c-align-icon_top"
                                 extra-class="c-icon-stroke_success"
                              ></c-custom-icon>
                           </template>
                           <template if:true={provider.notNewPatients}>
                              <c-custom-icon
                                 icon-name="NOT_Accepting_New_Patients"
                                 size="small"
                                 alternative-text="Accepting New Patients"
                                 class="nds-p-right_small c-align-icon_top"
                                 variant="error"
                              ></c-custom-icon>
                           </template>
                           <div class="nds-col content">
                              <template if:true={provider.acceptNewProv}>
                                 <p>Accepting new patients</p>
                              </template>
                              <template if:true={provider.notNewPatients}>
                                 <p>Not accepting new patients</p>
                              </template>
                           </div>
                        </div>

                        <div if:false={isPublic} class="nds-col nds-size_12-of-12 nds-text-body_regular nds-m-top_x-small nds-show_medium">
                           <p>{provider.NetworkStatus}</p>
                        </div>
                        <template if:false={provider.FHN}>
                           <template if:false={isPublic}>
                              <div
                                 if:false={provider.showNotPreferredmodalMessage}
                                 class="nds-size_1-of-1 nds-medium-size_9-of-12 nds-large-size_10-of-12 nds-m-top_xx-small nds-text-body_regular nds-show_medium nds-text-link"
                              >
                                 <a
                                    href="#"
                                    data-btn-id={provider.ProviderId}
                                    onclick={choosePCP}
                                    if:true={provider.chooseAsPCPLink}
                                    aria-label="Choose as pcp will take you to the Select Effective Date and Reason of Change Page"
                                    >Choose as PCP</a
                                 >
                              </div>
                              <div
                                 if:true={provider.showNotPreferredmodalMessage}
                                 class="nds-size_1-of-1 nds-medium-size_9-of-12 nds-large-size_10-of-12 nds-m-top_xx-small nds-text-body_regular nds-show_medium nds-text-link"
                              >
                                 <a
                                    href="#"
                                    data-btn-id={provider.ProviderId}
                                    onclick={openNoPreferredPCPModalOpen}
                                    if:true={provider.chooseAsPCPLink}
                                    aria-label="Choose as pcp will take you to the Select Effective Date and Reason of Change Page"
                                    >Choose as PCP</a
                                 >
                              </div>
                           </template>
                        </template>
                     </div>

                     <!-- Address Information -->
                     <div class="nds-col nds-medium-order_3 nds-large-order_2 nds-size_1-of-1 nds-medium-size_4-of-12 nds-large-size_4-of-12 m-top">
                        <!-- Desktop Design -->
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-p-left_large nds-show_medium">
                           <div class="nds-col nds-size_12-of-12 nds-text-title nds-m-bottom_x-small">
                              <h4>Address</h4>
                           </div>
                           <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-m-bottom_medium nds-media nds-show_medium">
                              <!-- Map Icon -->
                              <div class="nds-col nds-size_1-of-12">
                                 <span>
                                    <lightning-icon theme="nds" icon-name="utility:checkin" alternative-text="checkin" size="x-small" title="Map" class="mapIcon"></lightning-icon>
                                 </span>
                              </div>
                              <!-- Address  -->
                              <div class="nds-col nds-size_11-of-12 content">
                                 <div>{provider.addressLine1}, {provider.addressLine2} <br />{provider.city}, {provider.state} {provider.zip}<br /></div>
                              </div>
                           </div>
                        </div>
                        <!-- Miles / Get Directions - Shows up for desktop -->
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-p-left_large nds-media nds-show_medium">
                           <!-- Directions Icon-->
                           <div class="nds-col nds-m-right_xxx-small">
                              <span>
                                 <c-custom-icon icon-name="Directions" size="small" alternative-text="Directions" variant="information"></c-custom-icon>
                              </span>
                           </div>
                           <div class="nds-col nds-size_11-of-12">
                              <div style="display: contents" class="nds-text-link nds-show_inline-block">
                                 <a href={provider.directionsUrl} target="_blank" aria-label={provider.directionsAriaLabel}>{provider.distanceFromZip} Miles</a>
                              </div>
                           </div>
                        </div>
                        <!-- Mobile Design -->
                        <!-- Multiple Office -->
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-media nds-hide_medium">
                           <!-- Map Icon for Multiple Office - Shows up for mobile -->
                           <div class="nds-col nds-size_1-of-12 nds-m-top_xxx-small" if:true={provider.hasMultipleLoc}>
                              <c-custom-icon
                                 icon-name="Multiple_Offices_Locations"
                                 size="small"
                                 alternative-text="Multiple Offices Locations"
                                 variant="information"
                                 class="nds-p-right_small"
                              ></c-custom-icon>
                           </div>
                           <!-- Multiple Office link - Shows up for mobile -->
                           <div class="nds-col nds-size_11-of-12 nds-m-top_xxx-small" if:true={provider.hasMultipleLoc}>
                              <a href="#" data-btn-id={provider.ProviderId} onclick={navigateToMutlipleOffice}>Multiple Offices</a>
                           </div>
                        </div>

                        <!-- Address and Miles -->
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-media nds-m-top_small nds-hide_medium">
                           <div class="nds-col nds-size_7-of-12">
                              <div class="nds-media">
                                 <!-- Map Icon -->
                                 <div class="nds-col nds-size_1-of-12">
                                    <span>
                                       <lightning-icon theme="nds" icon-name="utility:checkin" alternative-text="checkin" size="x-small" title="Map" class="mapIcon"></lightning-icon>
                                    </span>
                                 </div>
                                 <!-- Address -->
                                 <div class="nds-col nds-size_11-of-12 nds-p-left_x-small">
                                    {provider.addressLine1}, {provider.addressLine2} <br />
                                    {provider.city}, {provider.state} {provider.zip}<br />
                                 </div>
                              </div>
                           </div>
                           <!-- Miles -->
                           <div class="nds-col nds-size_5-of-12">
                              <div class="nds-media">
                                 <div class="nds-col nds-size_1-of-12">
                                    <span>
                                       <c-custom-icon icon-name="Directions" size="small" alternative-text="Directions" variant="information"></c-custom-icon>
                                    </span>
                                 </div>

                                 <div class="nds-col nds-size_11-of-12 nds-p-left_small">
                                    <a href={provider.directionsUrl} target="_blank">{provider.distanceFromZip} Miles</a>
                                 </div>
                              </div>
                           </div>
                        </div>

                        <!-- Phone Icon and Number -->
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-media nds-hide_medium nds-media_center">
                           <div class="nds-col nds-size_1-of-12 nds-m-top_small">
                              <span>
                                 <lightning-icon theme="nds" icon-name="utility:call" alternative-text="call" size="x-small" title="Phone Number" class="phoneIcon"></lightning-icon>
                              </span>
                           </div>
                           <div class="nds-col nds-size_10-of-12 content nds-m-top_small">
                              <p>
                                 <lightning-formatted-phone value={provider.Phone}></lightning-formatted-phone>
                              </p>
                           </div>
                        </div>

                        <!-- Accepting/Non Accepting new patients message - Shows up for mobile -->
                        <div class="nds-col nds-size_12-of-12 nds-m-top_xx-small nds-text-body_regular nds-media nds-hide_medium nds-m-vertical_small">
                           <div class="nds-col nds-size_1-of-12">
                              <template if:true={provider.acceptNewProv}>
                                 <c-custom-icon
                                    icon-name="Accepting_New_Patients"
                                    size="small"
                                    alternative-text="Accepting New Patients"
                                    class="nds-p-right_small c-align-icon_top"
                                    extra-class="c-icon-stroke_success"
                                 ></c-custom-icon>
                              </template>
                              <template if:true={provider.notNewPatients}>
                                 <c-custom-icon
                                    icon-name="NOT_Accepting_New_Patients"
                                    size="small"
                                    alternative-text="Accepting New Patients"
                                    class="nds-p-right_small c-align-icon_top"
                                    variant="error"
                                 ></c-custom-icon>
                              </template>
                           </div>
                           <div class="nds-col nds-size_11-of-12 content">
                              <template if:true={provider.acceptNewProv}>
                                 <p>Accepting new patients</p>
                              </template>
                              <template if:true={provider.notNewPatients}>
                                 <p>Not accepting new patients</p>
                              </template>
                           </div>
                        </div>
                     </div>
                     <div class="nds-col nds-medium-order_4 nds-large-order_3 nds-size_1-of-1 nds-medium-size_4-of-12 nds-large-size_3-of-12 m-top nds-show_medium">
                        <div class="nds-col nds-size_12-of-12 nds-text-title nds-m-bottom_x-small">
                           <h4>Phone Number</h4>
                        </div>
                        <div class="nds-col nds-size_12-of-12 nds-text-body_regular nds-media nds-media_center">
                           <!-- Phone Icon - Shows up for desktop -->
                           <div class="nds-col nds-size_1-of-12 nds-show_medium">
                              <span>
                                 <lightning-icon theme="nds" icon-name="utility:call" alternative-text="call" size="x-small" title="Phone Number" class="phoneIcon"></lightning-icon>
                              </span>
                           </div>
                           <!-- Phone Number - Shows up for desktop -->
                           <div class="nds-col nds-size_11-of-12 content nds-show_medium">
                              <p>{provider.Phone}</p>
                           </div>
                        </div>
                     </div>

                     <!-- Review Details & Compare Buttons -->
                     <div class="nds-grid nds-medium-order_2 nds-large-order_5 nds-wrap nds-col nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_2-of-12">
                        <div class="nds-col nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12">
                           <div class="nds-col nds-size_12-of-12 nds-m-bottom_small nds-p-horizontal_x-small">
                              <button
                                 name="View Profile"
                                 class="nds-button nds-button_brand nds-button_stretch"
                                 data-btn-id={provider.ProviderId}
                                 onclick={goToReviewProvDetails}
                                 aria-label="View Profile will take you to Provider Details Page">
                                 View Profile
                              </button>
                           </div>
                           <div class="nds-col nds-size_12-of-12">
                              <div class="nds-large-size_12-of-12 nds-show_medium nds-align_absolute-center">
                                 <div class="nds-form-element">
                                    <div class="nds-form-element__control">
                                       <label class="nds-checkbox checkbox-nds-wheel">
                                          <input
                                             type="checkbox"
                                             class="compare_Desktop"
                                             name="options"
                                             id={provider.ProviderId}
                                             value={provider.ProviderId}
                                             onclick={handleComparision}
                                             checked={provider.added}
                                             disabled={provider.isBtnDisabled}/>
                                          <span class="nds-checkbox_faux"></span>
                                          <label class="nds-checkbox__label">
                                             <span class="nds-form-element__label">Compare</span>
                                          </label>
                                       </label>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>

                     <!-- Extra Icons -->
                     <div class="nds-col nds-medium-order_6 nds-large-order_6 nds-wrap nds-size_1-of-1 nds-medium-size_12-of-12 nds-m-top_large nds-m-horizontal_x-small nds-border_top nds-show_medium">
                        <div class="nds-grid nds-grid_align-center">
                           <!-- Center Of Excellence-->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.iconCOE}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon icon-name="Centers_Of_Excellence" size="medium" alternative-text="Center Of Excellence" class="nds-p-right_small"></c-custom-icon>
                                    <p class="nds-text-body_regular">Center Of Excellence</p>
                                 </div>
                              </div>
                           </div>

                           <!-- Wheelchair Accessible -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.isWheelchairAccessible}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon icon-name="Wheelchair_Accessible" size="medium" alternative-text="Wheelchair Accessible" class="nds-p-right_small"></c-custom-icon>
                                    <p class="nds-text-body_regular">Wheelchair Accessible</p>
                                 </div>
                              </div>
                           </div>
                           <!-- Primary Care Provider -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.isPrimaryCareProvider}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon icon-name="Primary_Care_Physician" size="medium" alternative-text="Primary Care Provider" class="nds-p-right_small"></c-custom-icon>
                                    <p class="nds-text-body_regular">Primary Care Provider</p>
                                 </div>
                              </div>
                           </div>
                           <!-- Multiple Offices -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.hasMultipleLoc}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon
                                       icon-name="Multiple_Offices_Locations"
                                       size="medium"
                                       alternative-text="Multiple Offices Locations"
                                       variant="information"
                                       class="nds-p-right_small"
                                    ></c-custom-icon>
                                    <div class="nds-col nds-text-body_regular">
                                       <a href="#" data-btn-id={provider.ProviderId} onclick={navigateToMutlipleOffice} aria-label="Multiple Offices will take you to Provider Offices Page"
                                          >Multiple Offices</a
                                       >
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- Eyewear Discount -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.hasEyewearDis}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon icon-name="Optometry_Vision" size="medium" alternative-text="Wheelchair Accessible" class="nds-p-right_small"></c-custom-icon>
                                    <p class="nds-text-body_regular">Eyewear Discount</p>
                                 </div>
                              </div>
                           </div>
                           <!-- Preferred -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.isPreferred}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <template if:true={attentisCompass}>
                                       <c-custom-icon icon-name="Compass" size="medium" alternative-text="Compass" class="nds-p-right_small"></c-custom-icon>
                                    </template>
                                    <div if:true={attentisCompass} class="nds-col nds-text-body_regular compass-icon">
                                       <p>Compass</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <!-- ACPNY -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.acpny}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <div class="clickable" title="ACPNY" onclick={redirectMenu}>
                                       <c-custom-icon
                                          icon-name="ACPNY_Portal_ONLY"
                                          size="medium"
                                          title="ACPNY"
                                          alternative-text="ACPNY"
                                          class="nds-p-right_small"
                                          show-tooltip="true"
                                          tooltip-position="left"
                                          tooltip-content="This physician practices at AdvantageCare Physicians, one of the largest primary and specialty care practices in the New York area."
                                       ></c-custom-icon>
                                    </div>
                                    <a class="nds-text-body_regular nds-p-top_xx-small" title="ACPNY" onclick={redirectMenu}>ACPNY</a>
                                 </div>
                              </div>
                           </div>
                           <!-- BronxDocs -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.bronxDocs}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <div class="clickable" title="BronxDocs" onclick={redirectMenu}>
                                       <c-custom-icon
                                          icon-name="Bronx_Doctors"
                                          size="medium"
                                          title="BronxDocs"
                                          alternative-text="BronxDocs"
                                          class="nds-p-right_x-small"
                                          show-tooltip="true"
                                          tooltip-position="left"
                                          tooltip-content="This physician practices at BronxDocs, a multispecialty practice serving the Bronx community."
                                       >
                                       </c-custom-icon>
                                    </div>
                                    <a class="nds-text-body_regular nds-p-top_xx-small" title="BronxDocs" onclick={redirectMenu}>BronxDocs</a>
                                 </div>
                              </div>
                           </div>
                           <!-- FHN -->
                           <div class="nds-col nds-m-top_x-small" if:true={provider.FHN}>
                              <div class="nds-col nds-size_1-of-1">
                                 <div class="nds-grid nds-grid_vertical-align-center nds-m-horizontal_medium">
                                    <c-custom-icon
                                       custom-label="First Health Network"
                                       title="FHN"
                                       alternative-text="FHN"
                                       class="nds-p-right_x-small nds-p-top_xx-small"
                                       show-tooltip="true"
                                       tooltip-position="defult"
                                       tooltip-content="This provider is part of the First Health Network (FHN). When you call to make an appointment, let the office know you have access to First Health Network."
                                    >
                                    </c-custom-icon>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </template>
            </c-pager>
            <!-- Comparision Footer Start-->
            <template if:true={showCompareFooter}>
               <div class="nds-grid nds-wrap nds-box nds-m-top_medium compare-footer-border nds-show_medium">
                  <div class="nds-col compare-providers-div nds-size_10-of-12">
                     <div class="nds-col nds-p-horizontal_small nds-size_1-of-1 nds-medium-size_12-of-12 nds-large-size_12-of-12"><p>Select 2 or 3 providers to compare.</p></div>
                     <template for:each={providersToCompare} for:item="provider">
                        <div key={provider.providerId} class="nds-col compare-provider c-compare-label__container">
                           <div class="compare-provider-name">
                              {provider.name}
                           </div>
                           <button class="compare-remove-item compare-close-icon" aria-label={provider.name} title="remove" data-providerid={provider.providerId} onclick={handleRemoveCompare}>
                              <lightning-icon theme="nds" icon-name="utility:close" alternative-text="Close" size="x-small" title="Close" class="close-icon"></lightning-icon>
                           </button>
                        </div>
                     </template>
                  </div>
                  <div class="nds-size_2-of-12">
                     <div class="nds-text-align_center">
                        <button
                           name="CompareFooter"
                           disabled={isCompareDisabled}
                           aria-label={messageCompare}
                           class="nds-button nds-button_brand compare-button-padding nds-button_stretch"
                           onclick={openProviderComparison}
                        >
                           Compare
                        </button>
                     </div>

                     <div class="nds-text-align_center nds-m-vertical_x-small">
                        <button type="button" class="vlocity-btn nds-button nds-button_outline-brand" aria-label={messageCancel} onclick={removeAllComparison}>
                           <span class="btnLabel">Cancel</span>
                        </button>
                     </div>
                  </div>
               </div>
            </template>
            <!-- Comparision Footer End-->
         </div>
         <div class={getMapWrapClass}>
            <template if:true={showMobileMapDetails}>
               <div class="nds-wrap nds-box nds-m-top_medium txtCenter mapMobilePinDetail nds-size_12-of-12">
                  <div class="nds-grid nds-m-bottom_large nds-hide_medium">
                     <div class="nds-size_11-of-12">
                        <label class="nds-text-title">{pinnedProviderFullName}</label>
                     </div>
                     <div class="nds-size_1-of-12">
                        <lightning-button-icon
                           variant="bare"
                           icon-name="utility:close"
                           onclick={handleClosePinDetail}
                           alternative-text="Close Map Pin Details"
                           title="Close Map Pin Details"
                        ></lightning-button-icon>
                     </div>
                  </div>
                  <div class="nds-size_12-of-12">
                     <a href={pinDetailDirLink} target="_blank" class="nds-button nds-button_brand nds-button_stretch nds-m-left_none">Get Directions</a>
                  </div>
               </div>
            </template>

            <template if:false={isMapLoading}>
               <lightning-map
                  map-markers={mapMarkers}
                  onmarkerselect={handleMapMarkerSelect}
                  selected-marker-value={selectedMapMarkerValue}
                  list-view="hidden"
                  zoom-level={zoomLevel}
                  class={mapMarginClass}
               >
               </lightning-map>
            </template>
         </div>
      </div>
   </template>

   <!--Use template if:true to display/hide popup based on isModalOpen value-->
   <template if:true={isModalOpen}>
      <!-- Modal/Popup Box LWC starts here -->
      <section role="dialog" tabindex="0" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="nds-modal nds-fade-in-open modalAccessibility">
         <div class="nds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="nds-modal__content nds-p-around_medium" id="modal-content-id-1">
               <div class="nds-grid nds-p-around_medium">
                  <div class="nds-col nds-p-top_small">
                     <p class="nds-text-color_default">Are you already a patient of this doctor?</p>
                  </div>
               </div>
               <div class="nds-grid nds-wrap nds-align_absolute-center">
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_small nds-m-right_xx-small">
                     <button class="nds-button nds-button_neutral nds-button_stretch" onclick={openNoPCPModal} title="Cancel">No</button>
                  </div>
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-m-bottom_small">
                     <button class="nds-button nds-button_brand nds-button_stretch" onclick={moveToChangePCP} title="OK">Yes</button>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <div class="nds-backdrop nds-backdrop_open"></div>
   </template>

   <template if:true={isNoPCPModalOpen}>
      <!-- Modal/Popup Box LWC starts here -->
      <section
         role="dialog"
         tabindex="0"
         aria-labelledby="modal-heading-01"
         aria-modal="true"
         aria-describedby="modal-content-id-1"
         class="nds-modal nds-modal__confirmation nds-fade-in-open modalAccessibility">
         <div class="nds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="nds-modal__content nds-p-around_medium" id="modal-content-id-2">
               <div class="nds-grid nds-p-around_medium">
                  <div class="nds-col nds-align_absolute-center">
                  </div>
                  <div class="nds-col nds-p-top_small">
                     <p class="nds-text-color_default">This doctor is not accepting new patients. Please choose another Primary Care Provider.</p>
                  </div>
               </div>
               <div class="nds-grid">
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-align_absolute-center">
                     <button class="nds-button nds-button_brand nds-button_stretch" onclick={stayInSelectProv} title="Cancel">OK</button>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <div class="nds-backdrop nds-backdrop_open"></div>
   </template>

   <template if:true={isNoPreferredPCPModalOpen}>
      <!-- Modal/Popup Box LWC starts here -->
      <section
         role="dialog"
         tabindex="0"
         aria-labelledby="modal-heading-01"
         aria-modal="true"
         aria-describedby="modal-content-id-1"
         class="nds-modal nds-modal__confirmation nds-fade-in-open modalAccessibility"
      >
         <div class="nds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <!-- Modal/Popup Box LWC body starts here -->
            <div class="nds-modal__content nds-p-around_medium" id="modal-content-id-4">
               <div class="nds-grid nds-p-around_medium">
                  <div if:true={showAttentisPreferredmessage} class="nds-col nds-p-top_small">
                     <p class="nds-text-color_default">
                        Did you know that if you choose a Preferred Provider, rather than any other PCP in the network, youâ€™ll have lower copays for most professional services?
                     </p>
                  </div>
               </div>
               <div class="nds-grid">
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_4-of-12 nds-align_absolute-center">
                     <button class="nds-button nds-button_brand nds-button_stretch" data-btn-id={provIdforPCPModal} onclick={choosePCP} title="Proceed">No, Please Proceed</button>
                  </div>
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_4-of-12 nds-align_absolute-center">
                     <button class="nds-button nds-button_brand nds-button_stretch" onclick={stayInSelectProv} title="Cancel">Go Back</button>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <div class="nds-backdrop nds-backdrop_open"></div>
   </template>

   <!-- Modal Window - Provider Comparison -->
   <template if:true={modalProviderComparison}>
      <!-- Modal/Popup Box LWC starts here -->
      <section
         role="dialog"
         tabindex="0"
         aria-label="Provider Comparison"
         aria-labelledby="modal-heading-03"
         aria-modal="true"
         aria-describedby="modal-content-id-3"
         class="nds-modal nds-modal_large nds-fade-in-open modalAccessibility">
         <div class="nds-modal__container" id="provCompModal">
            <!-- MODAL Box COMPARE  PROVIDERS-->
            <div class="nds-modal__content" id="modal-content-id-3">
               <div align="right" class="sticky-icon-header nds-p-top_large nds-p-horizontal_large nds-p-bottom_medium">
                  <button onclick={closeModalProviderComparison} class="c-close-icon_container iconClose button-border-benefit-video attentis-benefit-video">
                     <lightning-icon theme="nds" icon-name="utility:close" alternative-text="Close" size="x-small" title="Close" class="c-close-icon"></lightning-icon>
                  </button>
               </div>

               <table class="nds-table nds-table_cell-buffer nds-table_bordered">
                  <thead class="sticky-table-header">
                     <tr class="nds-line-height_reset">
                        <td class="nds-large-size_3-of-12" scope="col">
                           <div class="nds-truncate nds-p-vertical_small" title="Provider Name"></div>
                        </td>
                        <template for:each={providerComparison} for:item="provider">
                           <th key={provider.firstName} class="nds-large-size_3-of-12 vertical-align-top" scope="col">
                              <div id={provider.firstName} class="nds-truncate nds-p-vertical_small" title={provider.firstName}>{provider.providerFullName}, {provider.Title}</div>
                              <!-- Choose as PCP Button -->
                              <template if:false={provider.FHN}>
                                 <template if:false={isPublic}>
                                    <div if:true={provider.chooseAsPCPLink} class="nds-col nds-large-size_12-of-12 nds-show_medium nds-m-bottom_medium">
                                       <button class="nds-button nds-button_brand" aria-label={provider.providerAriaLabel} data-btn-id={provider.facetsProviderId} onclick={choosePCP}>
                                          Choose as PCP
                                       </button>
                                       <p class="nds-button" if:false={provider.chooseAsPCPLink}>&nbsp;</p>
                                    </div>
                                 </template>
                              </template>
                           </th>
                        </template>
                     </tr>
                  </thead>
                  <tbody>
                     <!-- Address -->
                     <tr class="nds-hint-parent">
                        <th data-label="Address" scope="row">
                           <div class="nds-truncate" title="Address">Address</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.addressLine1}>
                                 {provider.addressLine1}, {provider.addressLine2} <br />{provider.city}, {provider.state} {provider.zip}<br />
                              </div>
                           </td>
                        </template>
                     </tr>
                     <!-- Distance from -->
                     <tr class="nds-hint-parent">
                        <th data-label="Address" scope="row">
                           <div class="nds-truncate" title="Distance from">Distance from</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.distanceFromZip}>{provider.distanceFromZip} miles</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Wheelchair Access -->
                     <tr class="nds-hint-parent">
                        <th data-label="Wheelchair Accessible" scope="row">
                           <div class="nds-truncate" title="Wheelchair Accessible">Wheelchair Accessible</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.wheelchair}>{provider.wheelchair}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Specialties -->
                     <tr class="nds-hint-parent">
                        <th data-label="Specialties" scope="row">
                           <div class="nds-truncate" title="Specialties">Specialties</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.specialty}>{provider.specialty}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Gender -->
                     <tr class="nds-hint-parent">
                        <th data-label="Gender" scope="row">
                           <div class="nds-truncate" title="Gender">Gender</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.gender}>{provider.gender}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Education -->
                     <tr class="nds-hint-parent">
                        <th data-label="Education" scope="row">
                           <div class="nds-truncate" title="Education">Education</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.education}>{provider.education}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Language (other than english) -->
                     <tr class="nds-hint-parent">
                        <th data-label="Language spoken (other than english)" scope="row">
                           <div class="nds-truncate" title="Language spoken (other than english)">Language</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td if:true={provider.multipleLan} key={provider.firstName} class="" scope="col">
                              <!-- Languages -->
                              <template for:each={provider.languagesProviderComparison} for:item="lang">
                                 <div key={lang.Value} class="nds-col">
                                    <div class="nds-truncate">{lang.Value}</div>
                                 </div>
                              </template>
                           </td>
                           <td if:false={provider.multipleLan} key={provider.firstName} class="" scope="col">
                              <div key={provider.providerId} class="nds-col">
                                 <div class="nds-truncate">No information present</div>
                              </div>
                           </td>
                        </template>
                     </tr>

                     <!-- Accepting New Patients -->
                     <tr class="nds-hint-parent">
                        <th data-label="Accepting New Patients" scope="row">
                           <div class="nds-truncate" title="Accepting New Patients">Accepting New Patients</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.acceptingNewPatients}>{provider.acceptingNewPatients}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Phone -->
                     <tr class="nds-hint-parent">
                        <th data-label="Phone" scope="row">
                           <div class="nds-truncate" title="Phone">Phone</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.providerPhone}>
                                 <lightning-formatted-phone value={provider.providerPhone}></lightning-formatted-phone>
                              </div>
                           </td>
                        </template>
                     </tr>
                     <!-- Hours -->
                     <tr class="nds-hint-parent">
                        <th data-label="Hours" scope="row">
                           <div class="nds-truncate" title="Hours">Hours</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div if:false={provider.noHours} class="nds-truncate" title={provider.onlineServiceIndicator}>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Monday</div>
                                    <div if:false={provider.mondayClosed} class="nds-size_8-of-12">{provider.mondayFrom} - {provider.mondayTo}</div>
                                    <div if:true={provider.mondayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Tuesday</div>
                                    <div if:false={provider.tuesdayClosed} class="nds-size_8-of-12">{provider.tuesdayFrom} - {provider.tuesdayTo}</div>
                                    <div if:true={provider.tuesdayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Wednesday</div>
                                    <div if:false={provider.wednesdayClosed} class="nds-size_8-of-12">{provider.wednesdayFrom} - {provider.wednesdayTo}</div>
                                    <div if:true={provider.wednesdayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Thursday</div>
                                    <div if:false={provider.thursdayClosed} class="nds-size_8-of-12">{provider.thursdayFrom} - {provider.thursdayTo}</div>
                                    <div if:true={provider.thursdayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Friday</div>
                                    <div if:false={provider.fridayClosed} class="nds-size_8-of-12">{provider.fridayFrom} - {provider.fridayTo}</div>
                                    <div if:true={provider.fridayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Saturday</div>
                                    <div if:false={provider.saturdayClosed} class="nds-size_8-of-12">{provider.saturdayFrom} - {provider.saturdayTo}</div>
                                    <div if:true={provider.saturdayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                                 <div class="nds-media">
                                    <div class="nds-size_4-of-12">Sunday</div>
                                    <div if:false={provider.sundayClosed} class="nds-size_8-of-12">{provider.sundayFrom} - {provider.sundayTo}</div>
                                    <div if:true={provider.sundayClosed} class="nds-size_8-of-12">Closed</div>
                                 </div>
                              </div>
                              <div if:true={provider.noHours} class="">No information present</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Board Certification -->
                     <tr class="nds-hint-parent">
                        <th data-label="Board Certification" scope="row">
                           <div class="nds-truncate" title="Board Certification">Board Certification</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.boardCert}>{provider.boardCert}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Hospital Affiliations -->
                     <tr class="nds-hint-parent">
                        <th data-label="Hospital Affiliationsl" scope="row">
                           <div class="nds-truncate" title="Hospital Affiliations">Hospital Affiliations</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td if:true={provider.multipleHos} key={provider.firstName} class="" scope="col">
                              <!-- Hospitals -->
                              <template for:each={provider.hospitals} for:item="hosp">
                                 <div key={hosp.affiliationName} class="nds-col">
                                    <div class="nds-truncate">{hosp.affiliationName}</div>
                                 </div>
                              </template>
                           </td>
                           <td if:false={provider.multipleHos} key={provider.firstName} class="" scope="col">
                              <div key={lang.affiliationName} class="nds-col">
                                 <div class="nds-truncate">{provider.hospitalAffiliation}</div>
                              </div>
                           </td>
                        </template>
                     </tr>
                     <!-- Medical Group -->
                     <tr class="nds-hint-parent">
                        <th data-label="Medical Group" scope="row">
                           <div class="nds-truncate" title="Medical Group">Medical Group</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.groupName}>{provider.groupName}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- Preferred -->
                     <tr if:true={dynamicPreferred} class="nds-hint-parent">
                        <th data-label="Preferred" scope="row">
                           <div class="nds-truncate" title="Preferred">Preferred</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.preferred}>{provider.preferred}</div>
                           </td>
                        </template>
                     </tr>

                     <!-- Center of Excellence -->
                     <tr if:true={dynamicCOE} class="nds-hint-parent">
                        <th data-label="Center of Excellence" scope="row">
                           <div class="nds-truncate" title="Center of Excellence">Center of Excellence</div>
                        </th>
                        <template for:each={providerComparison} for:item="provider">
                           <td key={provider.firstName} class="" scope="col">
                              <div class="nds-truncate" title={provider.virtualCareProvider}>{provider.isCOE}</div>
                           </td>
                        </template>
                     </tr>
                     <!-- ACPNY -->
                  </tbody>
               </table>
               <div class="nds-grid nds-wrap">
                  <div class="nds-size_1-of-1 nds-medium-size_6-of-12 nds-large-size_3-of-12 nds-align_absolute-center nds-m-bottom_small nds-m-top_x-large">
                     <button class="nds-button nds-button_brand nds-button_stretch" onclick={closeModalProviderComparison} title="Done">Done</button>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <div class="nds-backdrop nds-backdrop_open"></div>
   </template>
   <!-- bronx redirect modal -->
   <template if:true={bronxModal}>
      <section
         role="dialog"
         tabindex="0"
         aria-labelledby="modal-heading-05"
         aria-modal="true"
         aria-describedby="modal-content-id-5"
         class="nds-modal nds-modal__confirmation nds-fade-in-open modalAccessibility"
      >
         <div class="nds-modal__container">
            <!-- Modal/Popup Box LWC header here -->

            <!-- Modal/Popup Box LWC body starts here -->
            <div class="nds-modal__content nds-p-around_medium" id="modal-content-id-5">
               <!-- Information -->
               <div class="nds-grid nds-p-bottom_large">
                  <!-- <lightning-icon theme="nds" icon-name="utility:info_alt" alternative-text="Info" size="medium" title="Info" class="nds-m-right_small nds-brand"></lightning-icon> -->
                  <p class="nds-text-body_regular">{redirectMessage}</p>
               </div>
               <!-- Buttons -->
               <div class="nds-grid nds-wrap nds-grid_align-center">
                  <div class="nds-size_1-of-1 nds-col nds-small-size_5-of-12 nds-medium-size_5-of-12 nds-large-size_5-of-12 nds-p-horizontal_x-small">
                     <button class="nds-button nds-button_neutral nds-button_stretch" onclick={bronxClose} title="Cancel">Cancel</button>
                  </div>
                  <div class="nds-size_1-of-1 nds-col nds-small-size_5-of-12 nds-medium-size_5-of-12 nds-large-size_5-of-12 nds-p-horizontal_x-small">
                     <template if:true={allowACPNYRedirect}>
                        <button class="nds-button nds-button_brand nds-button_stretch" onclick={acpnySite} title="Continue">Continue</button>
                     </template>
                     <template if:true={allowBronxDocsRedirect}>
                        <button class="nds-button nds-button_brand nds-button_stretch" onclick={bronxSite} title="Continue">Continue</button>
                     </template>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <div class="nds-backdrop nds-backdrop_open"></div>
   </template>
</template>