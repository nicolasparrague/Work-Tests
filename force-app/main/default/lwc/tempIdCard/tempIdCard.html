<template>
    <template if:true={loading}>
        <lightning-spinner alternative-text="Loading" size="medium"> </lightning-spinner>
    </template>
    <template if:false={loading}>
        <div class="id-card-container nds-grid nds-wrap nds-size_12-of-12 nds-gutters nds-m-bottom_x-large">
            <div class="nds-col nds-size_8-of-12 nds-small-size_12-of-12 nds-medium-size_12-of-12 nds-max-large-size_12-of-12 nds-large-size_8-of-12 id-card-wrap">
                <div class="id-card temporary c-color-border-brand_dark" id={targetId} data-target-id={targetId}>
                    <div class="watermark-container">
                        <img src={watermark} class="watermark" />
                    </div>
                    <div class="id-card-top nds-grid nds-gutters nds-grid_align-spread">
                        <div class="id-card-logo-container nds-col">
                            <img class="id-card-logo" src={cardLogo} />
                        </div>
                        <div class="nds-col nds-text-title_caps nds-text-align_right">
                            {typeTitle}
                        </div>
                    </div>
                    <div class="id-card-body">
                        <div class="id-card-body-main nds-size_12-of-12">
                            <div class="id-card-body-main-data">
                                <span class="id-card-body-main-label">Member Name</span>
                                <span class="id-card-body-main-value">{cardData.MemberName}</span>
                            </div>
                            <div class="id-card-body-main-data">
                                <span class="id-card-body-main-label">Member ID</span>
                                <span class="id-card-body-main-value">{cardData.MemberId}</span>
                            </div>
                            <div class="id-card-body-main-data">
                                <span class="id-card-body-main-label">Coverage Effective Date</span>
                                <span class="id-card-body-main-value">{cardData.CoverageEffectiveDate}</span>
                            </div>
                            <div class="id-card-body-main-data">
                                <span class="id-card-body-main-label">Plan Name</span>
                                <span class="id-card-body-main-value">{cardData.PlanName}</span>
                            </div>
                            <template if:true={showRXPCN}>
                                <div class="id-card-body-main-data">
                                    <span class="id-card-body-extra-field">Rx Bin Number: {cardData.RxBinNumber}</span>
                                    <span class="id-card-body-extra-field">PCN: {cardData.PCN}</span>
                                </div>
                            </template>
                            <template if:false={showRXPCN}>
                                <div class="id-card-body-main-data hide-for-mobile">
                                    <span class="id-card-body-extra-field ">&nbsp;</span>
                                    <span class="id-card-body-extra-field">&nbsp;</span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="id-card-bottom">
                        <div class="id-card-bottom-field nds-size_6-of-12">Customer Service
                            Number:<br />{cardData.CustomerServiceNumber}</div>
                        <div class="id-card-bottom-field nds-size_6-of-12">Contact
                            Us:<br />https://attentisconsulting.com/</div>
                    </div>
                </div>
            </div>
            <div
                class="id-button-container nds-show_medium nds-col nds-grid nds-wrap nds-size_4-of-12 nds-small-size_12-of-12 nds-medium-size_12-of-12 nds-max-large-size_12-of-12 nds-large-size_4-of-12 nds-p-left_medium">
                <div
                    class="nds-size_12-of-12 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_12-of-12 nds-m-top_medium">
                    <button class="nds-button nds-button_brand nds-button_stretch" data-target-id="downloadButton"
                        onclick={handleGeneratePDF}>Print ID Card</button>
                </div>
                <div
                    class="nds-size_12-of-12 nds-small-size_12-of-12 nds-medium-size_6-of-12 nds-large-size_12-of-12 nds-m-top_medium">
                    <button class="nds-button nds-button_neutral nds-button_stretch" data-target-id="requestButton"
                        onclick={handleRequestIdCard}>Request ID Card by Mail</button>
                </div>
            </div>
            <div class="nds-hide_medium nds-grid nds-wrap nds-size_12-of-12 nds-m-top_medium">
                <div class="nds-col nds-size_12-of-12 nds-small-size_6-of-12">
                    <button class="nds-button nds-button_bare" data-target-id="requestButtonMobile"
                        onclick={handleRequestIdCard}>Request ID Card by Mail</button>
                </div>
                <div class="nds-col nds-size_12-of-12 nds-small-size_6-of-12 id-card-save-button">
                    <button class="nds-button nds-button_bare" data-target-id="downloadButtonMobile"
                        onclick={handleGeneratePDF}>Save ID Card</button>
                </div>
            </div>
        </div> 
    </template>
</template>